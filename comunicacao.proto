syntax = "proto3";

package comunicacao;

option go_package = "./pb";

service BIQueryService {
  // 1. Saúde do Inventário (Preço e Kms médios por marca)
  rpc GetMarcaStats (Filtro) returns (MarcaStats);
  
  // 2. Mix de Produto (Contagem por categoria: SUV, Carrinha, etc)
  rpc GetContagemSegmento (Filtro) returns (Resultado);
  
  // 3. Distribuição Geográfica (Total de carros e valor de stock por cidade)
  rpc GetLocalizacaoStats (Filtro) returns (LocalizacaoStats);
}

message Filtro {
  string termo = 1;
}

message Resultado {
  float valor = 1;
}

message MarcaStats {
  int32 total = 1;
  float media_preco = 2;
  float media_kms = 3;
}

message LocalizacaoStats {
  int32 total_carros = 1;
  float valor_total = 2;
}